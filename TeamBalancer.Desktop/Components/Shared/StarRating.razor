<div class="star-rating">
    @if (!string.IsNullOrEmpty(Label))
    {
        <label class="star-rating-label">@Label</label>
    }
    <div class="stars">
        @for (int i = 1; i <= MaxRating; i++)
        {
            var starIndex = i;
            <span class="star @(starIndex <= Value ? "filled" : "")"
                  @onclick="() => OnStarClick(starIndex)">
                â˜…
            </span>
        }
    </div>
</div>

@code {
    [Parameter]
    public int Value { get; set; } = 1;

    [Parameter]
    public EventCallback<int> ValueChanged { get; set; }

    [Parameter]
    public string? Label { get; set; }

    [Parameter]
    public int MaxRating { get; set; } = 3;

    private async Task OnStarClick(int rating)
    {
        Value = rating;
        await ValueChanged.InvokeAsync(Value);
    }
}
